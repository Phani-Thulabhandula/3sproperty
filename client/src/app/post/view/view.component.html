<div style="height: 400px;" fxLayout="row" fxLayoutAlign="center center" class="card w-100 container mt-4">
    <img [src]="images[currentIndex] ? '/images/'+ images[currentIndex].path : 'https://us.123rf.com/450wm/pavelstasevich/pavelstasevich1811/pavelstasevich181101032/112815935-stock-vector-no-image-available-icon-flat-vector-illustration.jpg?ver=6'"
        style="max-height: 100%;" class="mt-2" />
</div>
<div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="30px" class="pt-4 card container">
    <button mat-raised-button (click)="imageMove(true)" [disabled]="currentIndex == 0">
        < Previous</button>
            <button mat-raised-button (click)="imageMove(false)"
                [disabled]="(currentIndex == images.length-1) || !images.length">Next
                ></button>
</div>

<div class="container card pt-8 px-gutter">
    <div fxLayout="row">

        <div fxLayout="column" class="w-full px-gutter" fxLayoutAlign="start start" fxLayoutGap="20px" fxFlex="70">
            <div fxLayout="row" class="w-full" fxLayoutAlign="start start" fxLayoutGap="20px">
                <div>
                    <h2>{{postInfo.title}}</h2>
                    <p class="text-gray">{{postInfo.location}}</p>
                </div>
                <div>
                    <mat-icon [icIcon]="icFav" *ngIf="!isFav" (click)="isFav=!isFav" class="cursor-pointer"></mat-icon>
                    <mat-icon [icIcon]="icFavChecked" class="text-red cursor-pointer" *ngIf="isFav"
                        (click)="isFav=!isFav">
                    </mat-icon>
                </div>
            </div>
            <mat-divider class="my-4 w-full"></mat-divider>
            <div fxLayout="row" class="w-full" fxLayoutAlign="start center" fxLayoutGap="20px">
                <div fxLayout="row" class="w-full" fxLayoutAlign="start start" fxFlex="15"
                    class="border-r-2 border-gary p-2">
                    <span>$ </span>
                    <div>
                        <h2 class="font-semibold"> {{postInfo.rent}}</h2>
                        <span class="text-gray">Rent</span>
                    </div>
                </div>
                <div fxFlex="10" class="font-semibold md:border-r-2 border-gary p-2">
                    {{postInfo.furnishing}}
                </div>
                <div fxFlex="10" class="font-semibold md:border-r-2 border-gary p-2">
                    {{postInfo.type}}
                </div>
                <div fxFlex="10" class="font-semibold md:border-r-2 border-gary p-2">
                    {{postInfo.property_type}}
                </div>
                <div fxFlex="10">
                    <h4 class="font-semibold md:border-r-2 border-gary"> {{postInfo.floor_number}}</h4>
                    <span class="text-gray">Floor Number</span>
                </div>
                <div fxFlex="10">
                    <h4 class="font-semibold"> {{postInfo.car_parking}}</h4>
                    <span class="text-gray">Car Parking</span>
                </div>
            </div>
            <mat-divider class="my-4 w-full"></mat-divider>
            <h2>Description</h2>
            <span class="text-gray w-3/4">
                {{postInfo.description}}
            </span>
            <mat-divider class="my-4 w-full"></mat-divider>

            <h3>Landmark</h3>
            <span class="text-gray w-3/4">
                {{postInfo.landmarks}}
            </span>
            <mat-divider class="my-4 w-full"></mat-divider>

            <h3>Location</h3>
            <span class="text-gray w-3/4">
                {{postInfo.location}}
            </span>

            <button mat-raised-button class="rounded-lg" color="accent">Request For site visit</button>
            <mat-divider class="my-4 w-full"></mat-divider>
        </div>
        <ng-container *ngIf="this.postInfo.user_id != userInfo.id">
            <div fxFlex="30" class="w-full">
                <div class="w-full h-full overflow-hidden" fxLayout="column">
                    <div class="bg-app-bar p-4 border-b" fxFlex="none" fxLayout="row" fxLayoutAlign="start center"
                        fxLayoutGap="16px">
                        <!-- <button (click)="openDrawer()" class="block md:hidden" color="primary" mat-icon-button type="button">
                    <mat-icon [icIcon]="icMenu" size="24px"></mat-icon>
                  </button> -->
                        <!--               
                  <div class="relative">
                    <img [src]="chat?.imageSrc" class="avatar" fxFlex="none">
                    <ic-icon *ngIf="chat?.status === 'Online'"
                             [icon]="icCheckCircle"
                             class="bg-card absolute -bottom-1 -right-1 rounded-full text-green"></ic-icon>
                  </div> -->

                        <div fxFlex="auto">
                            <div class="subheading-1">PostOwner</div>
                            <!-- <div [class.text-green]="chat?.status === 'Online'"
                         class="caption leading-none text-secondary">{{ chat?.status }}</div> -->
                        </div>

                        <!-- <button [matMenuTriggerFor]="chatMenu"
                          mat-icon-button
                          style="width: 38px; height: 38px; line-height: 38px;"
                          type="button">
                    <mat-icon [icIcon]="icMoreVert" class="text-secondary"></mat-icon>
                  </button> -->
                    </div>

                    <vex-scrollbar [@stagger]="messages.length" class="p-4 flex-auto">
                        <ng-container *ngFor="let message of messages">
                            <ng-container *ngIf="message.from === userInfo.id">
                                <div @fadeInUp class="max-w-3/4 me" fxFlexAlign="end" fxLayout="row">
                                    <div class="m-1 mr-0 py-2 px-4 shadow-1 rounded-full bg-card">{{ message.message }}
                                    </div>
                                </div>
                            </ng-container>

                            <ng-container *ngIf="message.from === postInfo.user_id">
                                <div @fadeInUp class="max-w-3/4 partner" fxFlexAlign="start" fxLayout="row">
                                    <div
                                        class="m-1 mr-0 py-2 px-4 shadow-1 rounded-full bg-primary text-primary-contrast">
                                        {{ message.message }}</div>
                                </div>
                            </ng-container>
                        </ng-container>
                    </vex-scrollbar>

                    <div class="p-4 bg-app-bar border-t">
                        <div fxLayout="row wrap" class="p-2" fxLayoutGap="10px">
                            <div class="rounded-full border border-gray-light p-2 card text-xs mt-2 hover:text-gray cursor-pointer"
                                *ngFor="let m of autoMessages" (click)="setMessage(m)">{{m.toString()}} </div>

                        </div>
                        <form (ngSubmit)="send()" [formGroup]="form">
                            <div class="border overflow-hidden bg-card ltr:pl-6 rtl:pr-6" fxFlex="auto" fxLayout="row"
                                fxLayoutAlign="start center">
                                <input class="outline-none border-0 h-12 w-240 body-1 bg-card" formControlName="message"
                                    fxFlex="auto" placeholder="Type a message..." type="text">
                                <button [class.text-primary]="form.get('message').value"
                                    [disabled]="!form.get('message').value" class="ltr:mr-4 rtl:ml-4 ltr:ml-3 rtl:mr-3"
                                    mat-icon-button type="submit">
                                    <mat-icon [icIcon]="icSend"></mat-icon>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <mat-menu #chatMenu="matMenu" xPosition="after" yPosition="below">
                    <button mat-menu-item>
                        <mat-icon [icIcon]="icAccountCircle"></mat-icon>
                        <span>Contact Info</span>
                    </button>

                    <button mat-menu-item>
                        <mat-icon [icIcon]="icVolumeMute"></mat-icon>
                        <span>Mute Chat</span>
                    </button>

                    <button mat-menu-item>
                        <mat-icon [icIcon]="icClearAll"></mat-icon>
                        <span>Clear Messages</span>
                    </button>
                </mat-menu>
            </div>
        </ng-container>
    </div>

</div>