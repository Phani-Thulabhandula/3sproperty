<div vexContainer class="mt-8">
    <form fxLayout="row" fxLayoutAlign="start start" [formGroup]="userForm" fxlayoutGap="10px" class="w-full"
        (ngSubmit)="updateUser()">
        <div fxFlex="22" class="bg-white m-4 w-full" fxLayout="column">
            <div class="card p-4 hover:underline font-semibold text-primary cursor-pointer">
                <h5>Edit Profile</h5>
            </div>
            <mat-divider></mat-divider>
            <div class="p-4 text-gray">
                <h5>Additional Information</h5>
            </div>
        </div>
        <div fxFlex="78" class="rounded m-4 w-full  border-gray-light border card">
            <div fxLayout="row" fxFlexAlign="center center" class="p-4">
                <h2 class="font-semibold">
                    Edit Profile
                </h2>
            </div>
            <mat-divider></mat-divider>
            <div class="px-gutter my-2">
                <h5 class="font-semibold">Basic Information</h5>
            </div>
            <div fxLayout="row" fxFlexAlign="center center" class="p-4">

                <div fxFlex="30" fxLayout="column" fxLayoutAlign="center center">
                    <div class="border-2 border-gray w-full hover:border-black border-dashed hover:text-black" *ngIf="!userForm.get('avatar').value"
                        style="height: 200px;" fxFlex="85">
                        <input class="image_upload w-full" type="file" accept="image/*"
                            (change)="handleFileInput($event.target.files)" style="z-index: 99999;" />
                        <div fxLayout="column" fxLayoutAlign="center center"
                            class="mt-8 text-gray hover:text-black cursor-pointer">
                            <h3 class="font-bold">Upload Profile Images</h3>
                            <!-- <img src="https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png"
                                style="max-width: 50%;max-height: 30%;" /> -->

                            <mat-icon [icIcon]="icUpload" size="70px" style="margin-left: -30px;"></mat-icon>
                            <span class="mt-12">Click here or Drag your Image here.</span>
                        </div>
                    </div>
                    <div class="p-4 w-full" *ngIf="userForm.get('avatar').value" fxLayout="column" fxLayoutAlign="center center">
                        <img [src]="'/images/' + userForm.get('avatar').value"  style="max-width: 100%;max-height: 100%;"/>
                        <button class="bg-red hover:bg-red text-white font-bold py-2 px-4 my-2 rounded focus:outline-none focus:shadow-outline" type="button" (click)="deleteImage()">
                            Remove
                          </button>
                    </div>
                </div>
                <div fxFlex="70" class="p-4 px-8" fxLayout="column">
                    <mat-form-field class="example-full-width" appearance="outline" color="primary">
                        <mat-label>First Name</mat-label>
                        <input matInput placeholder="First Name" formControlName="first_name">
                        <mat-hint>This will be your display name.</mat-hint>
                        <mat-error *ngIf="userForm.controls['first_name'].hasError('required')">
                            First Name is <strong>required</strong>
                        </mat-error>
                        <mat-error
                            *ngIf="userForm.controls['first_name'].invalid && !userForm.controls['first_name'].hasError('required')">
                            Must be atleat 3 character.

                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class=" example-full-width" appearance="outline" color="primary">
                        <mat-label>Last Name(optional)</mat-label>
                        <input matInput placeholder="Last Name" formControlName="last_name">
                        <mat-hint>Enter your last name!</mat-hint>
                        <mat-error
                            *ngIf="userForm.controls['last_name'].invalid && !userForm.controls['last_name'].hasError('required')">
                            Must be atleat 3 character.
                        </mat-error>

                    </mat-form-field>

                    <!-- <div class="w-3/4 border-gray border p-4">
                        <p class="font-semibold text-gray">Why is it important?
                        </p>
                        <span class="text-gray">
                            3S property is built on trust. Help other people get to know you. Tell them about the things
                            you like. And you will see the resultsâ€¦
                        </span>
                    </div> -->
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class=" px-gutter my-2">
                <h5 class="font-semibold">Contact Information</h5>
            </div>
            <div fxLayout="row" fxFlexAlign="start center" class="px-gutter">
                <div fxFlex="55" class="p-4 px-8" fxLayout="column">
                    <mat-form-field class="example-full-width" appearance="outline" color="primary">
                        <mat-label>Phone</mat-label>
                        <input matInput placeholder="Enter your phone number" type="number" formControlName="phone">
                        <mat-hint>Enter your phone number!</mat-hint>
                        <mat-error
                            *ngIf="userForm.controls['phone'].invalid && !userForm.controls['phone'].hasError('required')">
                            Invalid Phone Number
                        </mat-error>

                    </mat-form-field>
                    <mat-form-field class=" example-full-width" appearance="outline" color="primary">
                        <mat-label>Email</mat-label>
                        <input matInput placeholder="Email" type="email" formControlName="email">
                        <mat-hint>Enter your email!</mat-hint>
                        <mat-error *ngIf="userForm.controls['email'].hasError('required')">
                            Email is <strong>required</strong>
                        </mat-error>
                        <mat-error
                            *ngIf="userForm.controls['email'].invalid && !userForm.controls['email'].hasError('required')">
                            Invalid Email!
                        </mat-error>

                    </mat-form-field>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div fxLayout=" row" fxLayoutAlign="end center" class="p-4">
                <button mat-raised-button color="primary" type="submit">
                    Save Changes
                </button>
            </div>
        </div>
    </form>
</div>