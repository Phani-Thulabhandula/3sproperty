<div vexContainer class="container">
    <div fxLayout="column" fxLayoutAlign="center center">

        <form [formGroup]="form" (ngSubmit)="submit()"
            class="px-8 py-4 border-gray-light border rounded mt-8 w-full card">
            <div fxLayout="row" fxLayoutAlign="space-between center" class="my-4">
                <h2 class="text-bold my-4">Add Your Property</h2>
                <mat-checkbox class="example-margin" formControlName="isAvailable">Available</mat-checkbox>
            </div>
            <mat-divider class="my-4"></mat-divider>
            <div fxLayout="column" fxLayoutAlign="center start" fxLayoutGap="30px">
                <mat-form-field class="example-full-width w-1/2" appearance="outline" color="primary">
                    <mat-label>Title</mat-label>
                    <input matInput placeholder="First Name" formControlName="title">
                    <mat-hint>This will be your title of your post.</mat-hint>
                    <mat-error *ngIf="form.controls['title'].hasError('required')">
                        Title of the propetry is <strong>required</strong>
                    </mat-error>
                    <mat-error *ngIf="form.controls['title'].invalid && !form.controls['title'].hasError('required')">
                        Must be atleat 3 character.
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="example-full-width w-1/3" appearance="outline" color="primary">
                    <mat-label>Rent</mat-label>
                    <button type="button" mat-icon-button matPrefix>
                        <mat-icon matPrefix [icIcon]="icMoney"></mat-icon>
                    </button>
                    <input matInput placeholder="Price for your property" formControlName="rent" type="number">
                    <mat-hint>Enter price per month you want to charge.</mat-hint>
                    <mat-error *ngIf="form.controls['rent'].hasError('required')">
                        Rent is <strong>required</strong>
                    </mat-error>
                    <mat-error *ngIf="form.controls['rent'].invalid && !form.controls['rent'].hasError('required')">
                        <!-- Must be atleat 3 character. -->
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="example-full-width w-3/4" appearance="outline" color="primary">
                    <mat-label>Description</mat-label>
                    <textarea matInput placeholder="Enter description of the property" formControlName="description" rows="7"></textarea>
                    <mat-hint>This will be your description of your post, Please add all additional information.</mat-hint>
                    <mat-error *ngIf="form.controls['description'].hasError('required')">
                        Description is <strong>required</strong>
                    </mat-error>
                    <mat-error
                        *ngIf="form.controls['description'].invalid && !form.controls['description'].hasError('required')">
                        Must be atleat 3 character.
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="example-full-width w-1/2" appearance="outline" color="primary">
                    <mat-label>Building Type</mat-label>
                    <mat-select formControlName="type">
                        <mat-option *ngFor="let type of types" [value]="type._id">
                            {{type.name}}
                        </mat-option>
                    </mat-select>
                    <mat-hint>Select Building type of your post.</mat-hint>
                    <mat-error *ngIf="form.controls['type'].hasError('required')">
                        Building Type is <strong>required</strong>
                    </mat-error>
                    <mat-error *ngIf="form.controls['type'].invalid && !form.controls['type'].hasError('required')">
                        Must be atleat 3 character.
                    </mat-error>
                </mat-form-field>
                <div fxlayout="column">
                    <h4 class="font-semibold">Select Your Property Type</h4>
                    <mat-radio-group aria-label="Select an option" formControlName="property_type" class="mt-2">
                        <mat-radio-button [value]="item._id" class="mx-4" *ngFor="let item of property_types">
                            {{item.name}}</mat-radio-button>
                    </mat-radio-group>
                </div>


                <div fxlayout="column">
                    <h4 class="font-semibold">Select Your Property Type</h4>
                    <mat-radio-group aria-label="Select an option" formControlName="furnishing" class="mt-2">
                        <mat-radio-button [value]="item._id" class="mx-4" *ngFor="let item of furnishings">{{item.name}}
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
                <mat-divider class="w-full"></mat-divider>

                <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="40px" class="w-full">
                    <mat-form-field class="example-full-width" appearance="outline" color="primary" fxFlex="40">
                        <mat-label>Car Parkings</mat-label>
                        <input matInput placeholder="Floor Number" formControlName="car_parking" type="number">
                        <mat-hint>The Number of car parkings available for your property.</mat-hint>
                        <mat-error *ngIf="form.controls['car_parking'].hasError('required')">
                            Car Parkings is <strong>required</strong>
                        </mat-error>
                        <mat-error
                            *ngIf="form.controls['car_parking'].invalid && !form.controls['car_parking'].hasError('required')">
                            Must be atleat 3 character.
                        </mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="40px" class="w-full">
                    <mat-form-field class="example-full-width" appearance="outline" color="primary" fxFlex="30">
                        <mat-label>Floor Number</mat-label>
                        <input matInput placeholder="Floor Number" formControlName="floor_number" type="number">
                        <mat-hint>The Floor Number of your post.</mat-hint>
                        <mat-error *ngIf="form.controls['floor_number'].hasError('required')">
                            Floor Number is <strong>required</strong>
                        </mat-error>
                        <mat-error
                            *ngIf="form.controls['floor_number'].invalid && !form.controls['floor_number'].hasError('required')">
                            Must be atleat 3 character.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="example-full-width w-1/3" appearance="outline" color="primary" fxFlex="30">
                        <mat-label>Age of Building</mat-label>
                        <button type="button" mat-icon-button matPrefix>
                            <mat-icon matPrefix [icIcon]="icMoney"></mat-icon>
                        </button>
                        <input matInput placeholder="Age of Building" formControlName="age" type="number" maxlength="10">
                        <mat-hint>Add your property Age.</mat-hint>
                        <mat-error *ngIf="form.controls['rent'].hasError('required')">
                            Age of Building is <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="40px" class="w-full">
                    <mat-form-field class="example-full-width" appearance="outline" color="primary" fxFlex="30">
                        <mat-label>Landmarks</mat-label>
                        <input matInput placeholder="Landmarks" formControlName="landmarks">
                        <mat-hint>Add your nearby well known places or the landmarks.</mat-hint>
                        <mat-error *ngIf="form.controls['landmarks'].hasError('required')">
                            Landmarks is <strong>required</strong>
                        </mat-error>
                        <mat-error
                            *ngIf="form.controls['landmarks'].invalid && !form.controls['landmarks'].hasError('required')">
                            Must be atleat 3 character.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="example-full-width w-1/3" appearance="outline" color="primary" fxFlex="30">
                        <mat-label>Location</mat-label>
                        <button type="button" mat-icon-button matPrefix>
                            <mat-icon matPrefix [icIcon]="icMoney"></mat-icon>
                        </button>
                        <input matInput placeholder="First Name" formControlName="location" type="text" maxlength="40">
                        <mat-hint>Enter the location of your Property.</mat-hint>
                        <mat-error *ngIf="form.controls['location'].hasError('required')">
                            Location is <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="form.controls['location'].invalid && !form.controls['rent'].hasError('required')">
                            Must be atleat 3 character.
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <mat-divider class="my-8"></mat-divider>
            <div fxLayout="row" fxLayoutAlign="center center">
                <div class="border-2 border-gray w-full hover:border-black border-dashed" style="height: 200px;" fxFlex="85">
                    <input class="image_upload w-full" type="file" accept="image/*" multiple
                        (change)="handleFileInput($event.target.files)" />
                    <div fxLayout="column" fxLayoutAlign="center center" class="mt-4 text-gray hover:text-black cursor-pointer">
                        <h3 class="font-bold">Upload Property Images</h3>
                        <mat-icon [icIcon]="icUpload" size="70px" style="margin-left: -30px;"></mat-icon>
                        <span class="mt-12">Click here or Drag your Images here.</span>
                    </div>
                </div>
            </div>
            <div fxLayout="row wrap" fxLayoutGap="30px" class="mt-8">
                <div *ngFor="let file of files;let i =index;" class="card p-4 mt-8" fxLayout="row"
                    fxLayoutAlign="center center" style="width: 250px;height:200px;">
                    <button mat-icon-button style="position: absolute;margin-left: -115px;margin-top: -95px;"
                        (click)="remove(file.filename,i)" type="button">
                        <mat-icon [icIcon]="icClose"></mat-icon>
                    </button>
                    <img @stagger [src]="('/images/' + file.path)" style="max-width: 100%;max-height: 100%;" />
                </div>
            </div>

            <mat-divider class="my-8"></mat-divider>
            <div fxLayout="row" fxLayoutAlign="end center">
                <button mat-raised-button color="primary" type="submit" *ngIf="isUpdate">Update</button>
                <button mat-raised-button color="primary" type="submit" *ngIf="!isUpdate">Submit</button>
            </div>

        </form>
    </div>
</div>